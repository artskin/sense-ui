//stylus 变量
@import '../../style/var.styl';

//stylue 方法
buttonVariant(type){
  color:#fff;
  background-color:var(type,rgb(240,240,240));
  border-color:var(type);
  &:hover{
    background-color:var(type+-hover,rgb(230,230,230));
    border-color:var(type+-hover)
  }
  &:active{
    background-color:var(type+-active,rgb(220,220,220));
    border-color:var(type+-active)
  }
  &:focus{
    box-shadow:0 0 6px rgba(0,0,0,.5)
  }
}

//css调用
:host{
  --success:success;
  --warning:warning;
  --primary:primary
  --danger:danger;
  
  //文字
  --primary-text:#303133;
}
:host{
  --primary-hover: lighten(primary, 10%)
  --primary-active: darken(primary, 10%)
  
  //--success-hover: lighten(success, 10%)
  //--success-active: darken(success, 10%)
  
  --warning-hover: lighten(warning, 10%)
  --warning-active: darken(warning, 10%)
    
  --danger-hover: lighten(danger, 10%)
  --danger-active: darken(danger, 10%)
  
}
:host([open]) button{
  color: red;
}
:host([ripple]) button{
  &::before{
    content:'';
    position: absolute;
    pointer-events: none;
    width: 200%;
    height 200%;
    border-radius: 50%;
    left : calc( var(--ripple-left) -50%);
    top  : calc( var(--ripple-top) -50%);
  }
  &::before{
    z-index:1;
    background-color: #fff;
    opacity :0;
    //transition: opacity 15ms linear 0s, background-color 15ms linear 0s;
    // transition-property: all;
    // transition-timing-function: linear;
    // transition-duration: 275ms;
    // transform:scale(0.1);
  }
  &:active{
    &::before{
      //opacity :0.3;
      transform:scale(0);
    }
  }
  &.animate{
    &::before{
      animation: ripple .5s linear;
    }
    
  }
  @keyframes ripple {
    0%{
      opacity :1;
    }
    100%{
      opacity :0;
      transform: scale(2)  
    }
  }
}
body{
  color:primary-text;
}

button{
  padding:0.8em 1.4em;
  border-width: 1px;
  border-style: solid;
  outline:none;
  border-radius:4px;
  display: inline-block;
  slot{
    pointer-events: none;
  }
  overflow: hidden;
  position: relative;
}

.btn--default{
  buttonVariant(--default)
}
.btn--primary{
  buttonVariant(--primary)
}
.btn--success{
  buttonVariant(--success)
}
.btn--warning{
  buttonVariant(--warning)
}
.btn--danger{
  buttonVariant(--danger)
}