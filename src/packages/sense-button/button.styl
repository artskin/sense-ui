/*stylus 变量*/
/*@import '../../style/var.styl';*/

//stylus 方法
buttonVariant(type,border){
  color:#fff;
  background-color:var(type,rgb(240,240,240));
  border-color:var(border);
  &:hover{
    background-color:var(type+-hover,rgb(230,230,230));
    border-color:var(border+-hover)
  }
  &:active{
    background-color:var(type+-active,rgb(220,220,220));
    border-color:var(border+-active)
  }
  &:focus{
    box-shadow:0 0 10px rgba(0,0,0,.3);
  }
}

button{
  padding:0.8em 1.4em;
  border-width: 1px;
  border-style: solid;
  outline:none;
  border-radius:4px;
  display: inline-block;
  font-size: 14px;
  line-height: 1;
  slot{
    pointer-events: none;
  }
  overflow: hidden;
  position: relative;
}

.btn-default{
  buttonVariant(--default,--default)
  color: #999;
  &.is-wire{
    buttonVariant(--default-opacity,--default);
    color: #999;
  }
}
.btn-primary{
  buttonVariant(--primary,--primary)
  &.is-wire{
    buttonVariant(--primary-opacity,--primary);
    color: var(--primary)
  }
}
.btn-success{
  buttonVariant(--success,--success)
  &.is-wire{
    buttonVariant(--success-opacity,--success);
    color: var(--success)
  }
}
.btn-warning{
  buttonVariant(--warning,--warning)
  &.is-wire{
    buttonVariant(--warning-opacity,--warning);
    color: var(--warning)
  }
}
.btn-danger{
  buttonVariant(--danger,--danger)
  &.is-wire{
    buttonVariant(--danger-opacity,--danger);
    color: var(--danger)
  }
}

.btn-mini{
  padding:.4em .7em;
  font-size: 12px;
}
.btn-small{
  padding:.6em 1em;
}
.btn-big{
  padding:1em 2em;
}

//boolean属性通过css实现
:host([circle]) button,
:host([radius]) button{
  border-radius:3em;
}
:host([circle]) button{
  padding: .8em;
}
:host([disabled]) button{/* style when host has disabled attribute. */
  pointer-events: none;
  opacity: 0.5;
}
:host([shadow]) button{
  box-shadow:1px 3px 6px rgba(0,0,0,.3);
}
//TODO: 水波涟漪交互
:host([ripple]) button{
  &::before{
    content:'';
    width: 200%;
    height 200%;
    border-radius: 30%;
    pointer-events: none;
    position: absolute;
    left : calc(-50%);
    top  : calc(-50%);
    z-index:1;
  }
  &::before{
    background-color: #fff;
    opacity :0;
    //transition: opacity .6s ease-out, transform .3s ease-in;
    // transition-property: all;
    // transition-timing-function: linear;
    // transition-duration: 275ms;
    //transform:scale(0);
    margin-left: var(--ripple-left);
    margin-top : var(--ripple-top);
    //transform: translate(var(--ripple-left),var(--ripple-top));
  }
  // &:active{
  //   &::before{//不借助js添加class可以这样简单实现
  //     animation: ripple 1s ease-out;
  //   }
  // }
  // &:focus{
  //   &::before{
  //     animation: ripple 1s ease-out;
  //   }
  // }
  &:active{
    &::before{
      //opacity :.2;
    }
  }
  &.rippleFade{
    &::before{
      opacity :.2;
      animation: ripple .8s ease-out;
    } 
  }
}
@keyframes ripple {
  0%{
    transform: scale(0)
  }
  100%{
    transform: scale(2)
  }
  // 85%{
  //   opacity :0;
  //   transform: scale(2)
  // }
  // 100%{
  //   opacity :0;
  //   transform: scale(0)
  // }
}
:host([open]) button{
  color: red;
}
